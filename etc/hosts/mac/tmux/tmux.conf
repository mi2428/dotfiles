##
## General
##
set -g default-terminal "screen-256color"
set -g base-index 1
setw -g mode-keys vi
set -qg history-limit 10000000
set -sg escape-time 0  # Neovim

##
## Clipboard
##
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind -T copy-mode-vi V send-keys -X select-line
bind -T copy-mode-vi Esc send-keys -X clear-selection

##
## mouse
##
set -g mouse on

##
## keybind
##
unbind c-b
set -g prefix c-t
bind r source-file ~/.tmux.conf \; display "config reloaded!"
unbind %
bind \\ split-window -h -c "#{pane_current_path}"
unbind '"'
bind e setw synchronize-panes on
bind e setw synchronize-panes off
bind - split-window -v -c "#{pane_current_path}"
bind h select-pane -l
bind j select-pane -d
bind k select-pane -u
bind l select-pane -r
bind -r c-h select-window -t :-
bind -r c-l select-window -t :+
bind -r h resize-pane -l 5
bind -r j resize-pane -d 5
bind -r k resize-pane -u 5
bind -r l resize-pane -r 5
bind v copy-mode


##
## colorscheme solarized dark
## (source: http://ethanschoonover.com/solarized)
##
set -g status-style fg="colour014",bg="colour000"
set -g message-style fg="colour014",bg="colour000"
set -g pane-border-style fg="colour004"
set -g pane-active-border-style fg="colour041"
set -g display-panes-active-colour colour006
set -g display-panes-colour colour041
setw -g clock-mode-colour colour045

##
## Load plugins
## 
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-open'
# set -g @plugin 'tmux-plugins/tmux-copycat'
# run-shell '~/.tmux/plugins/tpm/tpm'

##
## Status bar
##
set -qg status-interval 1
set -g window-status-format "#[fg=colour014] #I:#W"
set -g window-status-current-format "#[bg=colour002,fg=colour195] #I: #T #[default]"
if "[ x != x\"$SSH_CLIENT\" ]" \
    'set -qg status-left "#[bg=colour004,fg=colour195] Session:#S #[default]#[bg=colour006,fg=colour255] SSH #[default]"' \
    'set -qg status-left "#[bg=colour004,fg=colour195] Session:#S #[default]"'
set -qg status-left-length 160
set -qg status-right "#H | login:#(who | wc -l | awk '{print $1}') #[bg=colour011,fg=colour231] #([ -n `ifconfig | grep broadcast | awk '{print $2}'` ] && echo `ifconfig | grep broadcast | awk '{print $2}'` || echo "N/A") #[default]#[bg=colour012,fg=colour255] #(w | grep load | awk -Faverages: '{print $2}' | awk '{print $1}') #[default]#[bg=colour014,fg=colour016] %m/%d(%a)%H:%M:%S #[default]"
set -qg status-right-length 256
# set -g status-position top
set -g status-position bottom
